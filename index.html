<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Mplatform by ParkMinKyu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">-->
    <!--<link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>-->
    <!--<link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">-->
</head>
<body>
<h1>mplatform</h1>
<div id="map" style="width:100%;height:350px;"></div>
<div id="main">

</div>
<script src="/mplatform/js/jquery-1.11.3.min.js" type="text/javascript"></script>
<script type="text/javascript" src="//apis.daum.net/maps/maps3.js?apikey=5f101424c141ce53e3ed5e26f10ca225"></script>
<script>
	var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
	    mapOption = { 
	        center: new daum.maps.LatLng(33.450701, 126.570667), // 지도의 중심좌표
	        level: 6 // 지도의 확대 레벨
	    };
	
	// 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
	var map = new daum.maps.Map(mapContainer, mapOption);  

    function setData(data){
		console.log(JSON.stringify(data));
		for(var key in data){
			console.log(key == 'SearchParkProgramService');
			var park = data[key];
			$('#main').html($('#main').html() + data[key] + "<br/>");
			for(var key1 in park){
				$('#main').html($('#main').html() + park[key1] + "<br/>");
				$('#main').html($('#main').html() + park[key1] + "<br/>");
				console.log(key1 == 'list_total_count');
				console.log(key1 == 'row');
			}
		}
    	/*var park = data.SearchParkProgramService;
		console.log(data.SearchParkProgramService);
		console.log(data['SearchParkProgramService']);
		console.log(data.length);
		if(park != null)
		var count = park.list_total_count;
		var list = park.row;
        for(var i = 0 ; i < list.length ; i ++){
        	var pData = list[i];
        	$('#main').html($('#main').html() + "<div onclick='panTo(\""+pData.LATITUDE+"\",\""+pData.LONGITUDE+"\",\""+pData.P_PARK+"\")'>" + pData.P_PARK + "( "+pData.P_NAME+" )" + "</div>");
        }*/
    }
    
    function panTo(lat, lng, name) {
    	$(window).scrollTop(0);
    	var markerPosition  = new daum.maps.LatLng(lat, lng); 
    	// 마커를 생성합니다
    	var marker = new daum.maps.Marker({
    	    position: markerPosition
    	});
    	// 마커가 지도 위에 표시되도록 설정합니다
    	marker.setMap(map);
    	
    	var iwContent = '<div style="padding:5px;">'+name+' <br><a href="http://map.daum.net/link/map/'+name+','+lat+','+lng+'" style="color:blue" target="_blank">큰지도보기</a> <a href="http://map.daum.net/link/to/'+name+','+lat+','+lng+'" style="color:blue" target="_blank">길찾기</a></div>', // 인포윈도우에 표출될 내용으로 HTML 문자열이나 document element가 가능합니다
        iwPosition = new daum.maps.LatLng(lat, lng); //인포윈도우 표시 위치입니다

	    // 인포윈도우를 생성합니다
	    var infowindow = new daum.maps.InfoWindow({
	        position : iwPosition, 
	        content : iwContent 
	    });
	      
	    // 마커 위에 인포윈도우를 표시합니다. 두번째 파라미터인 marker를 넣어주지 않으면 지도 위에 표시됩니다
	    infowindow.open(map, marker); 
    	
        // 이동할 위도 경도 위치를 생성합니다 
        var moveLatLon = new daum.maps.LatLng(lat, lng);
        // 지도 중심을 부드럽게 이동시킵니다
        // 만약 이동할 거리가 지도 화면보다 크면 부드러운 효과 없이 이동합니다
        map.panTo(moveLatLon);            
    }
	</script>
</body>
</html>